module AssetAggregator
  module OutputHandlers
    class JavascriptOutputHandler < OutputHandler
      def start_all
        out.puts <<-END
/************************************************************************
 * '#{subpath}.js'
 *
 * This file is GENERATED by the AssetAggregator; do not edit it.
 * This version was generated at #{Time.now}
 ************************************************************************/
END
      end

      def start_aggregator(aggregator)
        out.puts <<-END


/************************************************************************
 * #{aggregator}
 ************************************************************************/

END
      end
      
      def start_fragment(aggregator, fragment)
        out.puts <<-END
/* ----------------------------------------------------------------------
   - #{fragment.source_position}
   ---------------------------------------------------------------------- */
END
      end
    end
  end
end
